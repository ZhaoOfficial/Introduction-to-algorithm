# -*- coding:utf-8 -*-
p = 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624227998859
A = 112983575163002618947589666666735428181684517845144875096902910066434723952623016603393212501214127399908823223492478725971266042754892798177781267512821607470545283059472689034731313027619864228688466438258327552045437590203790635506728603774799021127049872571983254506993921153718739796769296097404717448108
B = 111772767805210239496365191691516881043394988196297062013853646674574743401042736447328886156429629192691601526398366088012736749454626686281467579205675084461989494513294624066074137247913037330040487275346913253345733429767781900977102687185378411660147190296412313303321533586102552123457499563789255321369
q = (p - 1) / 2
g = 3

def exp(g, tar):
    """
    Find g^{expo} % p = tar 
    """
    x = g
    expo = 1
    while expo < 10000:
        x = (x * g) % p
        expo += 1
        if x == tar:
            return expo

a = exp(g, A)
b = exp(g, B)
print("a = " + str(a))
print("b = " + str(b))

print("g ^ a * b =", pow(A, b, p))
print("g ^ b * a =", pow(B, a, p))